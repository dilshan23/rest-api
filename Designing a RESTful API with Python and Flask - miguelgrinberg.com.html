<!DOCTYPE html>
<!-- saved from url=(0082)https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>
    
        Designing a RESTful API with Python and Flask - miguelgrinberg.com
    
</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
	<meta name="description" content="miguelgrinberg.com">
	<meta name="copyright" content="Copyright (c) 2012-2015 Miguel Grinberg">
	<meta name="author" content="Miguel Grinberg">
    
    <meta name="keywords" content="python, programming, REST, RESTful, API, web, service, saas">
    

    
    <!-- Bootstrap -->
    <link href="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/bootstrap.min.css" rel="stylesheet">
    <link href="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/prettify.css" type="text/css" rel="stylesheet">
    <link href="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/colorbox.css" rel="stylesheet" type="text/css">
    <link href="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/style_20190126.css" rel="stylesheet" type="text/css">

    <link rel="shortcut icon" href="https://blog.miguelgrinberg.com/static/favicon.ico">
	<link rel="alternate" type="application/rss+xml" href="https://blog.miguelgrinberg.com/feed" title="miguelgrinberg.com RSS feed">

  <style type="text/css">.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q{display:block!important;border:1px solid #cdcfd2!important;background-color:#fff!important;color:#373a3d!important;width:100vw!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-24GeGuJgk9LrMLp7qVvlyz{background:#6a7e89!important;color:#fff!important;padding:10px!important;font-size:18px!important;font-family:sans-serif!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-KVjdulkCFfUZps29EbgAC{background:#f3f6f8!important;border-bottom:1px solid #cdcfd2!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-KVjdulkCFfUZps29EbgAC>*{margin-right:10px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1OeZ2PQ98oAp6Vc5mMc6V5{list-style:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-vCwYmWF_l83ScZBrGnRoi,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1OeZ2PQ98oAp6Vc5mMc6V5{margin:0!important;padding:0!important;width:100%!important;display:block!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-vCwYmWF_l83ScZBrGnRoi:not(:last-child){border-bottom:1px solid #cdcfd2!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1XQZkb-FlHWABUp4_uShaZ{color:inherit!important;cursor:pointer!important;width:100%!important;display:inline-block!important;margin:10px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1XTzMvb2XKitWz0mFLlyyp{margin:5px!important;display:block!important;width:auto!important;white-space:pre!important;overflow-x:scroll!important;background:inherit!important;color:inherit!important;font-family:monospace}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1XTzMvb2XKitWz0mFLlyyp:not(.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-39QUvFFn5B7GMcqMQkOXZ3){display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-295DY3nO0DbJWMsOqmjCli{background:#f5f5f5!important;color:#5a5a5a!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1aQZwu6CUzAf2zUcI7tg0Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-295DY3nO0DbJWMsOqmjCli{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-38EPFyKXMtoP12rPlmrHxs{background:#e6f7ff!important;color:#006097!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3W4ZnQjhoGfT1gTNcqRXdi .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-38EPFyKXMtoP12rPlmrHxs{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-HGYnfzlmgOZ-l7eANhQe_{background:#fff3ea!important;color:#993a00!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-24e52A11B1UIErbKHtBmqc .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-HGYnfzlmgOZ-l7eANhQe_{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-jji74ZzulHScD0OAD_G7h{background:#fef2f1!important;color:#b10823!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3npS60y-EvfF7G_lioSx2Q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-28jAOA7cDee-95LvwGsOP- .IN-2bc0215c-7188-4274-b598-1969e06d4d7c-jji74ZzulHScD0OAD_G7h{display:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu{background-color:#0073b1!important;border:0!important;border-radius:2px!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:inline-block!important;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Fira Sans,Ubuntu,Oxygen,Oxygen Sans,Cantarell,Droid Sans,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Lucida Grande,Helvetica,Arial,sans-serif!important;font-weight:600!important;overflow:hidden!important;outline-width:2px!important;position:relative!important;text-align:center!important;text-decoration:none!important;vertical-align:middle!important;white-space:nowrap!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu:disabled{cursor:not-allowed!important;opacity:.7!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu:not(:disabled):not(.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy):hover{background-color:#006097!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu:not(:disabled):not(.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy):active{background-color:#004b7c!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy{background-color:#fff!important;color:#0073b1!important;box-shadow:inset 0 0 0 1px rgba(0,0,0,.3)!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy:not(:disabled):hover{color:#006097!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1zhzkayakwEXovVYUbq5Gy:not(:disabled):active{color:#004b7c!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon{display:inline-block!important;height:100%!important;vertical-align:top!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon>svg{pointer-events:none!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr{font-size:10px!important;height:16px!important;line-height:16px!important;padding:0 6px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr>xdoor-icon{margin-left:-6px!important;margin-right:3px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr>xdoor-icon>svg{height:16px!important;width:16px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-7inSbaAsvG5bf7w6lJTEr.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-6px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6{font-size:11px!important;height:20px!important;line-height:20px!important;padding:0 7px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6>xdoor-icon,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon{margin-left:-7px!important;margin-right:3.5px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6>xdoor-icon>svg,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu>xdoor-icon>svg{height:20px!important;width:20px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-3uCBSbQNVNf2QjqHe1rfb6.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon,.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-7px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG{font-size:14px!important;height:24px!important;line-height:24px!important;padding:0 12px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG>xdoor-icon{margin-left:-12px!important;margin-right:6px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG>xdoor-icon>svg{height:24px!important;width:24px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-21Smv9YG-5V6M6KP-5v2WG.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-12px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q{font-size:16px!important;height:32px!important;line-height:32px!important;padding:0 16px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q>xdoor-icon{margin-left:-16px!important;margin-right:8px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q>xdoor-icon>svg{height:32px!important;width:32px!important}.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1TGdQUTLZdNG4R87OfAB-q.IN-2bc0215c-7188-4274-b598-1969e06d4d7c-2lrEjt4SOTxqrYsv1piG4c>xdoor-icon{margin-right:-16px!important}</style><script charset="utf-8" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/button.93a0c25c2d2f3081c705c98c2d9dec0e.js"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style></head>
  <body>
    
    <!-- facebook sdk -->
    <div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div>
    <script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/all.js" async="" crossorigin="anonymous"></script><script type="text/javascript" async="" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/recaptcha__en.js"></script><script type="text/javascript" async="" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/ga.js"></script><script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/cb=gapi.loaded_1" async=""></script><script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/cb=gapi(1).loaded_0" async=""></script><script id="twitter-wjs" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/widgets.js"></script><script id="facebook-jssdk" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/all(1).js"></script><script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <!-- google plus sdk -->
    <script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/platform.js" async="" defer="" gapi_processed="true"></script>
    <!-- twitter sdk -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <!-- linkedin sdk -->
    <script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/in.js" type="text/javascript" defer=""></script>

    
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="https://blog.miguelgrinberg.com/index">miguelgrinberg.com</a>
                </div>
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a href="https://blog.miguelgrinberg.com/index">Home</a></li>
                        <li><a href="https://courses.miguelgrinberg.com/">My Courses</a></li>
                        <li><a href="https://blog.miguelgrinberg.com/post/about-me">About Me</a></li>
                        
                        <li><a style="top: -1px;" href="https://blog.miguelgrinberg.com/post/hire-me"><span style="letter-spacing: 1px; font-size: 110%;">Hire me!</span></a></li>
                        
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <p class="navbar-text" style="margin-top: 10px; margin-bottom: 0px;">
                                <a type="application/rss+xml" href="https://blog.miguelgrinberg.com/feed"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss.png" alt="RSS Feed" title="RSS Feed"></a>
                                <a href="https://www.facebook.com/miguelgrinbergblog"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/facebook.png" alt="Facebook" title="Facebook"></a>
                                <a href="https://plus.google.com/u/0/117786742456929977820"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/googleplus.png" alt="Google+" title="Google+"></a>
                                <a href="http://www.linkedin.com/in/miguelgrinberg"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/linkedin.png" alt="LinkedIn" title="LinkedIn"></a>
                                <a href="http://github.com/miguelgrinberg"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/github.png" alt="GitHub" title="GitHub"></a>
                                <a href="https://twitter.com/miguelgrinberg"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/twitter.png" alt="Twitter" title="Twitter"></a>
                                <a href="https://patreon.com/miguelgrinberg"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/patreon.png" alt="Patreon" title="Patreon"></a>
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
    </nav>

    
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div id="main">
                    
                    
                    
                    
                    

<div class="post">

<p class="date"><span class="" data-timestamp="2013-05-20T07:12:40Z" data-format="format(&#39;LL&#39;)" data-refresh="0">May 20 2013</span></p>
<h1 class="post-title"><a href="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask">Designing a RESTful API with Python and Flask</a></h1>
<div class="posted">Posted by <span class="label label-danger"><a href="https://blog.miguelgrinberg.com/author/Miguel%20Grinberg">Miguel Grinberg</a></span> under <span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Python">Python</a></span>, <span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Programming">Programming</a></span>, <span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/REST">REST</a></span>, <span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Flask">Flask</a></span>. </div>
<div class="social-bar">
    <table>
        <tbody><tr>
            <td><div class="social-box" style="padding-top: 8px;"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" style="position: static; visibility: visible; width: 60px; height: 20px;" title="Twitter Tweet Button" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/tweet_button.7aeb03ce9f308997020e5998720fbbf7.en.html" data-url="http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask"></iframe></div></td>
            <td><div class="social-box" style="padding-left: 6px;"><div class="fb-like fb_iframe_widget" data-href="http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask" data-send="false" data-layout="button" data-width="450" data-show-faces="false" data-font="verdana" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;container_width=0&amp;font=verdana&amp;href=http%3A%2F%2Fblog.miguelgrinberg.com%2Fpost%2Fdesigning-a-restful-api-with-python-and-flask&amp;layout=button&amp;locale=en_US&amp;sdk=joey&amp;send=false&amp;show_faces=false&amp;width=450"><span style="vertical-align: bottom; width: 59px; height: 20px;"><iframe name="f297694d881ffd8" width="450px" height="1000px" title="fb:like Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/like.html" style="border: none; visibility: visible; width: 59px; height: 20px;" class=""></iframe></span></div></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><div id="___plusone_0" style="position: absolute; width: 450px; left: -10000px;"><iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position:absolute;top:-10000px;width:450px;margin:0px;border-style:none" tabindex="0" vspace="0" width="100%" id="I0_1582794352471" name="I0_1582794352471" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/fastbutton.html" data-gapiattached="true"></iframe><iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position:absolute;top:-10000px;width:450px;margin:0px;border-style:none" tabindex="0" vspace="0" width="100%" id="I2_1582794364384" name="I2_1582794364384" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/fastbutton(1).html" data-gapiattached="true"></iframe></div><div class="g-plusone" data-size="medium" data-annotation="none" data-href="http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask" data-gapiscan="true" data-onload="true" data-gapistub="true"></div></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><span class="IN-widget" data-lnkd-debug="&lt;script type=&quot;IN/Share+init&quot; data-url=&quot;http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask&quot;&gt;&lt;/script&gt;" style="display: inline-block; line-height: 1; vertical-align: bottom; padding: 0px; margin: 0px; text-indent: 0px; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: bottom !important; font-size: 1px !important;"><button class="IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu"><xdoor-icon aria-hidden="true"><svg viewBox="0 0 24 24" width="24px" height="24px" x="0" y="0" preserveAspectRatio="xMinYMin meet">
      <g style="fill: currentColor">
        <rect x="-0.003" style="fill:none;" width="24" height="24"></rect>
        <path style="" d="M20,2h-16c-1.1,0-2,0.9-2,2v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2zM8,19h-3v-9h3V19zM6.5,8.8C5.5,8.8,4.7,8,4.7,7s0.8-1.8,1.8-1.8S8.3,6,8.3,7S7.5,8.8,6.5,8.8zM19,19h-3v-4c0-1.4-0.6-2-1.5-2c-1.1,0-1.5,0.8-1.5,2.2V19h-3v-9h2.9v1.1c0.5-0.7,1.4-1.3,2.6-1.3c2.3,0,3.5,1.1,3.5,3.7V19z"></path>
      </g>
    </svg></xdoor-icon>Share</button></span></span></div></td>
        </tr>
    </tbody></table>
</div>
<div class="post_body"><p>In recent years <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST</a> (REpresentational State Transfer) has emerged as the standard architectural design for web services and web APIs.</p>
<p>In this article I'm going to show you how easy it is to create a RESTful web service using <a href="http://www.python.org/">Python</a> and the <a href="http://flask.pocoo.org/">Flask</a> microframework.</p>
<h2>What is REST?</h2>
<p>The characteristics of a REST system are defined by six design rules:</p>
<ul>
<li><strong>Client-Server</strong>: There should be a separation between the server that offers a service, and the client that consumes it.</li>
<li><strong>Stateless</strong>: Each request from a client must contain all the information required by the server to carry out the request. In other words, the server cannot store information provided by the client in one request and use it in another request.</li>
<li><strong>Cacheable</strong>: The server must indicate to the client if requests can be cached or not.</li>
<li><strong>Layered System</strong>: Communication between a client and a server should be standardized in such a way that allows intermediaries to respond to requests instead of the end server, without the client having to do anything different.</li>
<li><strong>Uniform Interface</strong>: The method of communication between a client and a server must be uniform.</li>
<li><strong>Code on demand</strong>: Servers can provide executable code or scripts for clients to execute in their context. This constraint is the only one that is optional.</li>
</ul>
<h2>What is a RESTful web service?</h2>
<p>The REST architecture was originally designed to fit the <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP protocol</a> that the world wide web uses.</p>
<p>Central to the concept of RESTful web services is the notion of resources. Resources are represented by <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URIs</a>. The clients send requests to these URIs using the methods defined by the HTTP protocol, and possibly as a result of that the state of the affected resource changes.</p>
<p>The HTTP request methods are typically designed to affect a given resource in standard ways:</p>
<table class="data">
<tbody><tr><th>HTTP Method</th><th>Action</th><th>Examples</th></tr>
<tr><td>GET</td><td>Obtain information about a resource</td><td>http://example.com/api/orders<br>(retrieve order list)</td></tr>
<tr><td>GET</td><td>Obtain information about a resource</td><td>http://example.com/api/orders/123<br>(retrieve order #123)</td></tr>
<tr><td>POST</td><td>Create a new resource</td><td>http://example.com/api/orders<br>(create a new order, from data provided with the request)</td></tr>
<tr><td>PUT</td><td>Update a resource</td><td>http://example.com/api/orders/123<br>(update order #123, from data provided with the request)</td></tr>
<tr><td>DELETE</td><td>Delete a resource</td><td>http://example.com/api/orders/123<br>(delete order #123)</td></tr>
</tbody></table>

<p>The REST design does not require a specific format for the data provided with the requests. In general data is provided in the request body as a <a href="http://en.wikipedia.org/wiki/JSON">JSON</a> blob, or sometimes as arguments in the <a href="http://en.wikipedia.org/wiki/Query_string">query string</a> portion of the URL.</p>
<h2>Designing a simple web service</h2>
<p>The task of designing a web service or API that adheres to the REST guidelines then becomes an exercise in identifying the resources that will be exposed and how they will be affected by the different request methods.</p>
<p>Let's say we want to write a To Do List application and we want to design a web service for it. The first thing to do is to decide what is the root URL to access this service. For example, we could expose this service as:</p>
<pre class="prettyprint"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//[hostname]/todo/api/v1.0/</span></code></pre>
<p>Here I have decided to include the name of the application and the version of the API in the URL. Including the application name in the URL is useful to provide a namespace that separates this service from others that can be running on the same system. Including the version in the URL can help with making updates in the future, since new and potentially incompatible functions can be added under a new version, without affecting applications that rely on the older functions.</p>
<p>The next step is to select the resources that will be exposed by this service. This is an extremely simple application, we only have tasks, so our only resource will be the tasks in our to do list.</p>
<p>Our tasks resource will use HTTP methods as follows:</p>
<table class="data">
<tbody><tr><th>HTTP Method</th><th>URI</th><th>Action</th></tr>
<tr><td>GET</td><td>http://[hostname]/todo/api/v1.0/tasks</td><td>Retrieve list of tasks</td></tr>
<tr><td>GET</td><td>http://[hostname]/todo/api/v1.0/tasks/[task_id]</td><td>Retrieve a task</td></tr>
<tr><td>POST</td><td>http://[hostname]/todo/api/v1.0/tasks</td><td>Create a new task</td></tr>
<tr><td>PUT</td><td>http://[hostname]/todo/api/v1.0/tasks/[task_id]</td><td>Update an existing task</td></tr>
<tr><td>DELETE</td><td>http://[hostname]/todo/api/v1.0/tasks/[task_id]</td><td>Delete a task</td></tr>
</tbody></table>

<p>We can define a task as having the following fields:</p>
<ul>
<li><strong>id</strong>: unique identifier for tasks. Numeric type.</li>
<li><strong>title</strong>: short task description. String type.</li>
<li><strong>description</strong>: long task description. Text type.</li>
<li><strong>done</strong>: task completion state. Boolean type.</li>
</ul>
<p>And with this we are basically done with the design part of our web service. All that is left is to implement it!</p>
<h2>A brief introduction to the Flask microframework</h2>
<p>If you read my <a href="http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">Flask Mega-Tutorial series</a> you know that Flask is a simple, yet very powerful Python web framework.</p>
<p>Before we delve into the specifics of web services let's review how a regular Flask web application is structured.</p>
<p>I will assume you know the basics of working with Python in your platform. The example command lines I will show below are for a Unix-like operating system. In short, that means that they will work on Linux, Mac OS X and also on Windows if you use <a href="http://www.cygwin.com/">Cygwin</a>. The commands are slightly different if you use the Windows native version of Python.</p>
<p>Let's begin by installing Flask in a virtual environment. If you don't have <code>virtualenv</code> installed in your system, you can download it from <a href="https://pypi.python.org/pypi/virtualenv">https://pypi.python.org/pypi/virtualenv</a>.</p>
<pre class="prettyprint"><code><span class="pln">$ mkdir todo</span><span class="pun">-</span><span class="pln">api
$ cd todo</span><span class="pun">-</span><span class="pln">api
$ virtualenv flask
</span><span class="typ">New</span><span class="pln"> python executable </span><span class="kwd">in</span><span class="pln"> flask</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">python
</span><span class="typ">Installing</span><span class="pln"> setuptools</span><span class="pun">............................</span><span class="kwd">done</span><span class="pun">.</span><span class="pln">
</span><span class="typ">Installing</span><span class="pln"> pip</span><span class="pun">...................</span><span class="kwd">done</span><span class="pun">.</span><span class="pln">
$ flask</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">pip install flask</span></code></pre>
<p>Now that we have Flask installed let's create a simple web application, which we will put in a file called <code>app.py</code>:</p>
<pre class="prettyprint"><code><span class="com">#!flask/bin/python</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> flask </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Flask</span><span class="pln">

app </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Flask</span><span class="pun">(</span><span class="pln">__name__</span><span class="pun">)</span><span class="pln">

</span><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/'</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> index</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Hello, World!"</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln">
    app</span><span class="pun">.</span><span class="pln">run</span><span class="pun">(</span><span class="pln">debug</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span></code></pre>
<p>To run this application we have to execute <code>app.py</code>:</p>
<pre class="prettyprint"><code><span class="pln">$ chmod a</span><span class="pun">+</span><span class="pln">x app</span><span class="pun">.</span><span class="pln">py
$ </span><span class="pun">./</span><span class="pln">app</span><span class="pun">.</span><span class="pln">py
 </span><span class="pun">*</span><span class="pln"> </span><span class="typ">Running</span><span class="pln"> on http</span><span class="pun">:</span><span class="com">//127.0.0.1:5000/</span><span class="pln">
 </span><span class="pun">*</span><span class="pln"> </span><span class="typ">Restarting</span><span class="pln"> </span><span class="kwd">with</span><span class="pln"> reloader</span></code></pre>
<p>And now you can launch your web browser and type <code>http://localhost:5000</code> to see this tiny application in action.</p>
<p>Simple, right? Now we will convert this app into our RESTful service!</p>
<h2>Implementing RESTful services in Python and Flask</h2>
<p>Building web services with Flask is surprisingly simple, much simpler than building complete server side applications like the one I built in the <a href="http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">Mega-Tutorial</a>.</p>
<p>There are a couple of Flask extensions that help with building RESTful services with Flask, but the task is so simple that in my opinion there is no need to use an extension.</p>
<p>The clients of our web service will be asking the service to add, remove and modify tasks, so clearly we need to have a way to store tasks. The obvious way to do that is to build a small database, but because databases are not the topic of this article we are going to take a much simpler approach. To learn about proper use of databases with Flask once again I recommend that you read my <a href="http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">Mega-Tutorial</a>.</p>
<p>In place of a database we will store our task list in a memory structure. This will only work when the web server that runs our application is single process and single threaded. This is okay for Flask's own development web server. It is not okay to use this technique on a production web server, for that a proper database setup must be used.</p>
<p>Using the base Flask application we are now ready to implement the first entry point of our web service:</p>
<pre class="prettyprint"><code><span class="com">#!flask/bin/python</span><span class="pln">
</span><span class="kwd">from</span><span class="pln"> flask </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">Flask</span><span class="pun">,</span><span class="pln"> jsonify

app </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Flask</span><span class="pun">(</span><span class="pln">__name__</span><span class="pun">)</span><span class="pln">

tasks </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="str">'id'</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'title'</span><span class="pun">:</span><span class="pln"> u</span><span class="str">'Buy groceries'</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'description'</span><span class="pun">:</span><span class="pln"> u</span><span class="str">'Milk, Cheese, Pizza, Fruit, Tylenol'</span><span class="pun">,</span><span class="pln"> 
        </span><span class="str">'done'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">False</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="str">'id'</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'title'</span><span class="pun">:</span><span class="pln"> u</span><span class="str">'Learn Python'</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'description'</span><span class="pun">:</span><span class="pln"> u</span><span class="str">'Need to find a good Python tutorial on the web'</span><span class="pun">,</span><span class="pln"> 
        </span><span class="str">'done'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">False</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">]</span><span class="pln">

</span><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'GET'</span><span class="pun">])</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> get_tasks</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'tasks'</span><span class="pun">:</span><span class="pln"> tasks</span><span class="pun">})</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">'__main__'</span><span class="pun">:</span><span class="pln">
    app</span><span class="pun">.</span><span class="pln">run</span><span class="pun">(</span><span class="pln">debug</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span></code></pre>
<p>As you can see, not much has changed. We created a memory database of tasks, which is nothing more than a plain and simple array of dictionaries. Each entry in the array has the fields that we defined above for our tasks.</p>
<p>Instead of the <code>index</code> entry point we now have a <code>get_tasks</code> function that is associated with the <code>/todo/api/v1.0/tasks</code> URI, and only for the <code>GET</code> HTTP method.</p>
<p>The response of this function is not text, we are now replying with JSON data, which Flask's <code>jsonify</code> function generates for us from our data structure.</p>
<p>Using a web browser to test a web service isn't the best idea since web browsers cannot easily generate all types of HTTP requests. Instead, we will use <a href="http://curl.haxx.se/">curl</a>. If you don't have <code>curl</code> installed, go ahead and install it now.</p>
<p>Start the web service in the same way we started the sample application, by running <code>app.py</code>. Then open a new console window and run the following command:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">294</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">04</span><span class="pun">:</span><span class="lit">53</span><span class="pun">:</span><span class="lit">53</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"tasks"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Milk, Cheese, Pizza, Fruit, Tylenol"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Buy groceries"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Need to find a good Python tutorial on the web"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Learn Python"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>We just have invoked a function in our RESTful service!</p>
<p>Now let's write the second version of the GET method for our tasks resource. If you look at the table above this will be the one that is used to return the data of a single task:</p>
<pre class="prettyprint"><code><span class="kwd">from</span><span class="pln"> flask </span><span class="kwd">import</span><span class="pln"> abort

</span><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks/&lt;int:task_id&gt;'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'GET'</span><span class="pun">])</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> get_task</span><span class="pun">(</span><span class="pln">task_id</span><span class="pun">):</span><span class="pln">
    task </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">task </span><span class="kwd">for</span><span class="pln"> task </span><span class="kwd">in</span><span class="pln"> tasks </span><span class="kwd">if</span><span class="pln"> task</span><span class="pun">[</span><span class="str">'id'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> task_id</span><span class="pun">]</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">task</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">404</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'task'</span><span class="pun">:</span><span class="pln"> task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]})</span></code></pre>
<p>This second function is a little bit more interesting. Here we get the id of the task in the URL, and Flask translates it into the <code>task_id</code> argument that we receive in the function.</p>
<p>With this argument we search our <code>tasks</code> array. If the id that we were given does not exist in our database then we return the familiar error code 404, which according to the HTTP specification means "Resource Not Found", which is exactly our case.</p>
<p>If we find the task then we just package it as JSON with <code>jsonify</code> and send it as a response, just like we did before for the entire collection.</p>
<p>Here is how this function looks when invoked from <code>curl</code>:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks/2</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">151</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">05</span><span class="pun">:</span><span class="lit">21</span><span class="pun">:</span><span class="lit">50</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"task"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Need to find a good Python tutorial on the web"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Learn Python"</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks/3</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">404</span><span class="pln"> NOT FOUND
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> text</span><span class="pun">/</span><span class="pln">html
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">238</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">05</span><span class="pun">:</span><span class="lit">21</span><span class="pun">:</span><span class="lit">52</span><span class="pln"> GMT

</span><span class="pun">&lt;!</span><span class="pln">DOCTYPE HTML PUBLIC </span><span class="str">"-//W3C//DTD HTML 3.2 Final//EN"</span><span class="pun">&gt;</span><span class="pln">
</span><span class="str">&lt;title&gt;</span><span class="lit">404</span><span class="pln"> </span><span class="typ">Not</span><span class="pln"> </span><span class="typ">Found</span><span class="pun">&lt;</span><span class="str">/title&gt;
&lt;h1&gt;Not Found&lt;/</span><span class="pln">h1</span><span class="pun">&gt;</span><span class="pln">
</span><span class="str">&lt;p&gt;</span><span class="typ">The</span><span class="pln"> requested URL was </span><span class="kwd">not</span><span class="pln"> found on the server</span><span class="pun">.&lt;/</span><span class="pln">p</span><span class="pun">&gt;&lt;</span><span class="pln">p</span><span class="pun">&gt;</span><span class="typ">If</span><span class="pln"> you     entered the URL manually please check your spelling </span><span class="kwd">and</span><span class="pln"> </span><span class="kwd">try</span><span class="pln"> again</span><span class="pun">.&lt;/</span><span class="pln">p</span><span class="pun">&gt;</span></code></pre>
<p>When we ask for resource id #2 we get it, but when we ask for #3 we get back the 404 error. The odd thing about the error is that it came back with an HTML message instead of JSON, because that is how Flask generates the 404 response by default. Since this is a web service client applications will expect that we always respond with JSON, so we need to improve our 404 error handler:</p>
<pre class="prettyprint"><code><span class="kwd">from</span><span class="pln"> flask </span><span class="kwd">import</span><span class="pln"> make_response

</span><span class="lit">@app</span><span class="pun">.</span><span class="pln">errorhandler</span><span class="pun">(</span><span class="lit">404</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> not_found</span><span class="pun">(</span><span class="pln">error</span><span class="pun">):</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> make_response</span><span class="pun">(</span><span class="pln">jsonify</span><span class="pun">({</span><span class="str">'error'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Not found'</span><span class="pun">}),</span><span class="pln"> </span><span class="lit">404</span><span class="pun">)</span></code></pre>
<p>And we get a much more API friendly error response:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks/3</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">404</span><span class="pln"> NOT FOUND
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">26</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">05</span><span class="pun">:</span><span class="lit">36</span><span class="pun">:</span><span class="lit">54</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"error"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Not found"</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Next in our list is the <code>POST</code> method, which we will use to insert a new item in our task database:</p>
<pre class="prettyprint"><code><span class="kwd">from</span><span class="pln"> flask </span><span class="kwd">import</span><span class="pln"> request

</span><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'POST'</span><span class="pun">])</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> create_task</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json </span><span class="kwd">or</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="str">'title'</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">400</span><span class="pun">)</span><span class="pln">
    task </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="str">'id'</span><span class="pun">:</span><span class="pln"> tasks</span><span class="pun">[-</span><span class="lit">1</span><span class="pun">][</span><span class="str">'id'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
        </span><span class="str">'title'</span><span class="pun">:</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">[</span><span class="str">'title'</span><span class="pun">],</span><span class="pln">
        </span><span class="str">'description'</span><span class="pun">:</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'description'</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">),</span><span class="pln">
        </span><span class="str">'done'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">False</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    tasks</span><span class="pun">.</span><span class="pln">append</span><span class="pun">(</span><span class="pln">task</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'task'</span><span class="pun">:</span><span class="pln"> task</span><span class="pun">}),</span><span class="pln"> </span><span class="lit">201</span></code></pre>
<p>Adding a new task is also pretty easy. The <code>request.json</code> will have the request data, but only if it came marked as JSON. If the data isn't there, or if it is there, but we are missing a <code>title</code> item then we return an error code 400, which is the code for the bad request.</p>
<p>We then create a new task dictionary, using the id of the last task plus one (a cheap way to guarantee unique ids in our simple database). We tolerate a missing <code>description</code> field, and we assume the <code>done</code> field will always start set to <code>False</code>.</p>
<p>We append the new task to our <code>tasks</code> array, and then respond to the client with the added task and send back a status code 201, which HTTP defines as the code for "Created".</p>
<p>To test this new function we can use the following <code>curl</code> command:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">H </span><span class="str">"Content-Type: application/json"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">X POST </span><span class="pun">-</span><span class="pln">d </span><span class="str">'{"title":"Read a book"}'</span><span class="pln"> http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">201</span><span class="pln"> </span><span class="typ">Created</span><span class="pln">
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">104</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">05</span><span class="pun">:</span><span class="lit">56</span><span class="pun">:</span><span class="lit">21</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"task"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Read a book"</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Note: if you are on Windows and use the Cygwin version of <code>curl</code> from <code>bash</code> then the above command will work just fine. However, if you are using the native version of <code>curl</code> from the regular command prompt there is a little dance that needs to be done to send double quotes inside the body of a request:</p>
<pre class="prettyprint"><code><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">H </span><span class="str">"Content-Type: application/json"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">X POST </span><span class="pun">-</span><span class="pln">d </span><span class="str">"{"""</span><span class="pln">title</span><span class="str">""":"""</span><span class="typ">Read</span><span class="pln"> a book</span><span class="str">"""}"</span><span class="pln"> http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span></code></pre>
<p>Essentially on Windows you have to use double quotes to enclose the body of the request, and then inside it you escape a double quote by writing three of them in sequence.</p>
<p>Of course after this request completed we can obtain the updated list of tasks:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">423</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">05</span><span class="pun">:</span><span class="lit">57</span><span class="pun">:</span><span class="lit">44</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"tasks"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Milk, Cheese, Pizza, Fruit, Tylenol"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Buy groceries"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Need to find a good Python tutorial on the web"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Learn Python"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Read a book"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>The remaining two functions of our web service are shown below:</p>
<pre class="prettyprint"><code><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks/&lt;int:task_id&gt;'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'PUT'</span><span class="pun">])</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> update_task</span><span class="pun">(</span><span class="pln">task_id</span><span class="pun">):</span><span class="pln">
    task </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">task </span><span class="kwd">for</span><span class="pln"> task </span><span class="kwd">in</span><span class="pln"> tasks </span><span class="kwd">if</span><span class="pln"> task</span><span class="pun">[</span><span class="str">'id'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> task_id</span><span class="pun">]</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">task</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">404</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">400</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="str">'title'</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json </span><span class="kwd">and</span><span class="pln"> type</span><span class="pun">(</span><span class="pln">request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">[</span><span class="str">'title'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> unicode</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">400</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="str">'description'</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json </span><span class="kwd">and</span><span class="pln"> type</span><span class="pun">(</span><span class="pln">request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">[</span><span class="str">'description'</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> unicode</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">400</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="str">'done'</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json </span><span class="kwd">and</span><span class="pln"> type</span><span class="pun">(</span><span class="pln">request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">[</span><span class="str">'done'</span><span class="pun">])</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="kwd">bool</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">400</span><span class="pun">)</span><span class="pln">
    task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="str">'title'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'title'</span><span class="pun">,</span><span class="pln"> task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="str">'title'</span><span class="pun">])</span><span class="pln">
    task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="str">'description'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'description'</span><span class="pun">,</span><span class="pln"> task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="str">'description'</span><span class="pun">])</span><span class="pln">
    task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="str">'done'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">json</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'done'</span><span class="pun">,</span><span class="pln"> task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">][</span><span class="str">'done'</span><span class="pun">])</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'task'</span><span class="pun">:</span><span class="pln"> task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]})</span><span class="pln">

</span><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks/&lt;int:task_id&gt;'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'DELETE'</span><span class="pun">])</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> delete_task</span><span class="pun">(</span><span class="pln">task_id</span><span class="pun">):</span><span class="pln">
    task </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">task </span><span class="kwd">for</span><span class="pln"> task </span><span class="kwd">in</span><span class="pln"> tasks </span><span class="kwd">if</span><span class="pln"> task</span><span class="pun">[</span><span class="str">'id'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> task_id</span><span class="pun">]</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> len</span><span class="pun">(</span><span class="pln">task</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">:</span><span class="pln">
        abort</span><span class="pun">(</span><span class="lit">404</span><span class="pun">)</span><span class="pln">
    tasks</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">(</span><span class="pln">task</span><span class="pun">[</span><span class="lit">0</span><span class="pun">])</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'result'</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">True</span><span class="pun">})</span></code></pre>
<p>The <code>delete_task</code> function should have no surprises. For the <code>update_task</code> function we are trying to prevent bugs by doing exhaustive checking of the input arguments. We need to make sure that anything that the client provided us is in the expected format before we incorporate it into our database.</p>
<p>A function call that updates task #2 as being done would be done as follows:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">H </span><span class="str">"Content-Type: application/json"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">X PUT </span><span class="pun">-</span><span class="pln">d </span><span class="str">'{"done":true}'</span><span class="pln"> http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks/2</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">170</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">07</span><span class="pun">:</span><span class="lit">10</span><span class="pun">:</span><span class="lit">16</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"task"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Need to find a good Python tutorial on the web"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"id"</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Learn Python"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<h2>Improving the web service interface</h2>
<p>The problem with the current design of the API is that clients are forced to construct URIs from the task identifiers that are returned. This is pretty easy in itself, but it indirectly forces clients to know how these URIs need to be built, and this will prevent us from making changes to URIs in the future.</p>
<p>Instead of returning task ids we can return the full URI that controls the task, so that clients get the URIs ready to be used. For this we can write a small helper function that generates a "public" version of a task to send to the client:</p>
<pre class="prettyprint"><code><span class="kwd">from</span><span class="pln"> flask </span><span class="kwd">import</span><span class="pln"> url_for

</span><span class="kwd">def</span><span class="pln"> make_public_task</span><span class="pun">(</span><span class="pln">task</span><span class="pun">):</span><span class="pln">
    new_task </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> field </span><span class="kwd">in</span><span class="pln"> task</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> field </span><span class="pun">==</span><span class="pln"> </span><span class="str">'id'</span><span class="pun">:</span><span class="pln">
            new_task</span><span class="pun">[</span><span class="str">'uri'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> url_for</span><span class="pun">(</span><span class="str">'get_task'</span><span class="pun">,</span><span class="pln"> task_id</span><span class="pun">=</span><span class="pln">task</span><span class="pun">[</span><span class="str">'id'</span><span class="pun">],</span><span class="pln"> _external</span><span class="pun">=</span><span class="kwd">True</span><span class="pun">)</span><span class="pln">
        </span><span class="kwd">else</span><span class="pun">:</span><span class="pln">
            new_task</span><span class="pun">[</span><span class="pln">field</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> task</span><span class="pun">[</span><span class="pln">field</span><span class="pun">]</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> new_task</span></code></pre>
<p>All we are doing here is taking a task from our database and creating a new task that has all the fields except <code>id</code>, which gets replaced with another field called <code>uri</code>, generated with Flask's <code>url_for</code>.</p>
<p>When we return the list of tasks we pass them through this function before sending them to the client:</p>
<pre class="prettyprint"><code><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'GET'</span><span class="pun">])</span><span class="pln">
</span><span class="kwd">def</span><span class="pln"> get_tasks</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'tasks'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">make_public_task</span><span class="pun">(</span><span class="pln">task</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> task </span><span class="kwd">in</span><span class="pln"> tasks</span><span class="pun">]})</span></code></pre>
<p>So now this is what the client gets when it retrieves the list of tasks:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">406</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">18</span><span class="pun">:</span><span class="lit">16</span><span class="pun">:</span><span class="lit">28</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"tasks"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Buy groceries"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Milk, Cheese, Pizza, Fruit, Tylenol"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"uri"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:5000/todo/api/v1.0/tasks/1"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Learn Python"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Need to find a good Python tutorial on the web"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"uri"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:5000/todo/api/v1.0/tasks/2"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>We apply this technique to all the other functions and with this we ensure that the client always sees URIs instead of ids.</p>
<h2>Securing a RESTful web service</h2>
<p>Can you believe we are done? Well, we are done with the functionality of our service, but we still have a problem. Our service is open to anybody, and that is a bad thing.</p>
<p>We have a complete web service that can manage our to do list, but the service in its current state is open to any clients. If a stranger figures out how our API works he or she can write a new client that can access our service and mess with our data.</p>
<p>Most entry level tutorials ignore security and stop here. In my opinion this is a serious problem that should always be addressed.</p>
<p>The easiest way to secure our web service is to require clients to provide a username and a password. In a regular web application you would have a login form that posts the credentials, and at that point the server would create a session for the logged in user to continue working, with the session id stored in a cookie in the client browser. Unfortunately doing that here would violate the stateless requirement of REST, so instead we have to ask clients to send their authentication information with every request they send to us.</p>
<p>With REST we always try to adhere to the HTTP protocol as much as we can. Now that we need to implement authentication we should do so in the context of HTTP, which provides two forms of authentication called <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">Basic</a> and <a href="http://en.wikipedia.org/wiki/Digest_access_authentication">Digest</a>.</p>
<p>There is a small Flask extension that can help with this, written by no other than yours truly. So let's go ahead and install <a href="https://github.com/miguelgrinberg/flask-httpauth">Flask-HTTPAuth</a>:</p>
<pre class="prettyprint"><code><span class="pln">$ flask</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">pip install flask</span><span class="pun">-</span><span class="pln">httpauth</span></code></pre>
<p>Let's say we want our web service to only be accessible to username <code>miguel</code> and password <code>python</code>. We can setup a Basic HTTP authentication as follows:</p>
<pre class="prettyprint"><code><span class="kwd">from</span><span class="pln"> flask_httpauth </span><span class="kwd">import</span><span class="pln"> </span><span class="typ">HTTPBasicAuth</span><span class="pln">
auth </span><span class="pun">=</span><span class="pln"> </span><span class="typ">HTTPBasicAuth</span><span class="pun">()</span><span class="pln">

</span><span class="lit">@auth</span><span class="pun">.</span><span class="pln">get_password
</span><span class="kwd">def</span><span class="pln"> get_password</span><span class="pun">(</span><span class="pln">username</span><span class="pun">):</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> username </span><span class="pun">==</span><span class="pln"> </span><span class="str">'miguel'</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">'python'</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">None</span><span class="pln">

</span><span class="lit">@auth</span><span class="pun">.</span><span class="pln">error_handler
</span><span class="kwd">def</span><span class="pln"> unauthorized</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> make_response</span><span class="pun">(</span><span class="pln">jsonify</span><span class="pun">({</span><span class="str">'error'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Unauthorized access'</span><span class="pun">}),</span><span class="pln"> </span><span class="lit">401</span><span class="pun">)</span></code></pre>
<p>The <code>get_password</code> function is a callback function that the extension will use to obtain the password for a given user. In a more complex system this function could check a user database, but in this case we just have a single user so there is no need for that.</p>
<p>The <code>error_handler</code> callback will be used by the extension when it needs to send the unauthorized error code back to the client. Like we did with other error codes, here we customize the response so that is contains JSON instead of HTML.</p>
<p>With the authentication system setup, all that is left is to indicate which functions need to be protected, by adding the <code>@auth.login_required</code> decorator. For example:</p>
<pre class="prettyprint"><code><span class="lit">@app</span><span class="pun">.</span><span class="pln">route</span><span class="pun">(</span><span class="str">'/todo/api/v1.0/tasks'</span><span class="pun">,</span><span class="pln"> methods</span><span class="pun">=[</span><span class="str">'GET'</span><span class="pun">])</span><span class="pln">
</span><span class="lit">@auth</span><span class="pun">.</span><span class="pln">login_required
</span><span class="kwd">def</span><span class="pln"> get_tasks</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> jsonify</span><span class="pun">({</span><span class="str">'tasks'</span><span class="pun">:</span><span class="pln"> tasks</span><span class="pun">})</span></code></pre>
<p>If we now try to invoke this function with <code>curl</code> this is what we get:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">401</span><span class="pln"> UNAUTHORIZED
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">36</span><span class="pln">
WWW</span><span class="pun">-</span><span class="typ">Authenticate</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Basic</span><span class="pln"> realm</span><span class="pun">=</span><span class="str">"Authentication Required"</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">06</span><span class="pun">:</span><span class="lit">41</span><span class="pun">:</span><span class="lit">14</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"error"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Unauthorized access"</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>To be able to invoke this function we have to send our credentials:</p>
<pre class="prettyprint"><code><span class="pln">$ curl </span><span class="pun">-</span><span class="pln">u miguel</span><span class="pun">:</span><span class="pln">python </span><span class="pun">-</span><span class="pln">i http</span><span class="pun">:</span><span class="com">//localhost:5000/todo/api/v1.0/tasks</span><span class="pln">
HTTP</span><span class="pun">/</span><span class="lit">1.0</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> application</span><span class="pun">/</span><span class="pln">json
</span><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">316</span><span class="pln">
</span><span class="typ">Server</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Werkzeug</span><span class="pun">/</span><span class="lit">0.8</span><span class="pun">.</span><span class="lit">3</span><span class="pln"> </span><span class="typ">Python</span><span class="pun">/</span><span class="lit">2.7</span><span class="pun">.</span><span class="lit">3</span><span class="pln">
</span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pln"> </span><span class="typ">May</span><span class="pln"> </span><span class="lit">2013</span><span class="pln"> </span><span class="lit">06</span><span class="pun">:</span><span class="lit">46</span><span class="pun">:</span><span class="lit">45</span><span class="pln"> GMT

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"tasks"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Buy groceries"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Milk, Cheese, Pizza, Fruit, Tylenol"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"uri"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:5000/todo/api/v1.0/tasks/1"</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
      </span><span class="str">"title"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Learn Python"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"done"</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Need to find a good Python tutorial on the web"</span><span class="pun">,</span><span class="pln">
      </span><span class="str">"uri"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost:5000/todo/api/v1.0/tasks/2"</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>The authentication extension gives us the freedom to choose which functions in the service are open and which are protected.</p>
<p>To ensure the login information is secure the web service should be exposed in a HTTP Secure server (i.e. https://...) as this encrypts all the communications between client and server and prevents a third party from seeing the authentication credentials in transit.</p>
<p>Unfortunately web browsers have the nasty habit of showing an ugly login dialog box when a request comes back with a 401 error code. This happens even for background requests, so if we were to implement a web browser client with our current web server we would need to jump through hoops to prevent browsers from showing their authentication dialogs and let our client application handle the login.</p>
<p>A simple trick to distract web browsers is to return an error code other than 401. An alternative error code favored by many is 403, which is the "Forbidden" error. While this is a close enough error, it sort of violates the HTTP standard, so it is not the proper thing to do if full compliance is necessary. In particular this would be a bad idea if the client application is not a web browser. But for cases where server and client are developed together it saves a lot of trouble. The simple change that we can make to implement this trick is to replace the 401 with a 403:</p>
<pre class="prettyprint"><code><span class="lit">@auth</span><span class="pun">.</span><span class="pln">error_handler
</span><span class="kwd">def</span><span class="pln"> unauthorized</span><span class="pun">():</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> make_response</span><span class="pun">(</span><span class="pln">jsonify</span><span class="pun">({</span><span class="str">'error'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Unauthorized access'</span><span class="pun">}),</span><span class="pln"> </span><span class="lit">403</span><span class="pun">)</span></code></pre>
<p>Of course if we do this we will need the client application to look for 403 errors as well.</p>
<h2>Possible improvements</h2>
<p>There are a number of ways in which this little web service we have built today can be improved.</p>
<p>For starters, a real web service should be backed by a real database. The memory data structure that we are using is very limited in functionality and should not be used for a real application.</p>
<p>Another area in which an improvement could be made is in handling multiple users. If the system supports multiple users the authentication credentials sent by the client could be used to obtain user specific to do lists. In such a system we would have a second resource, which would be the users. A <code>POST</code> request on the users resource would represent a new user registering for the service. A <code>GET</code> request would return user information back to the client. A <code>PUT</code> request would update the user information, maybe updating an email address. A <code>DELETE</code> request would delete the user account.</p>
<p>The <code>GET</code> request that retrieves the task list could be expanded in a couple of ways. First, this request could take optional pagination arguments, so that a client can request a portion of the list. Another way to make this function more useful would be to allow filtering by certain criteria. For example, a client might want to see only completed tasks, or only tasks with a title that begins with the letter A. All these elements can be added to the URL as arguments.</p>
<h2>Conclusion</h2>
<p>The complete code for the To Do List web service is here: <a href="https://gist.github.com/miguelgrinberg/5614326">https://gist.github.com/miguelgrinberg/5614326</a>.</p>
<p>I hope this was a simple and friendly introduction to RESTful APIs. If there is enough interest I could write a second part to this article in which we can develop a simple web client that uses this service for a complete To Do List application. Let me know what you think below in the comments!</p>
<p><strong>UPDATE</strong>: A follow up to this tutorial is now online: <a href="http://blog.miguelgrinberg.com/post/writing-a-javascript-rest-client">Writing a Javascript REST client</a>.</p>
<p><strong>UPDATE #2</strong>: I have written yet another follow-up: <a href="http://blog.miguelgrinberg.com/post/designing-a-restful-api-using-flask-restful">Designing a RESTful API using Flask-RESTful</a>.</p>
<p><strong>UPDATE #3</strong>*: Another follow-up article is available: <a href="https://blog.miguelgrinberg.com/post/restful-authentication-with-flask">RESTful Authentication with Flask</a>.</p>
<p>Miguel</p></div>

<div class="patreon_footer">
    <p>Hello, and thank you for visiting my blog! If you enjoyed this article, please consider supporting my work on this blog on <a href="https://patreon.com/miguelgrinberg">Patreon</a><a>!</a></p><a>
    </a><center><a></a><p><a></a><a href="https://patreon.com/miguelgrinberg" alt="Become a Patron!" title="Become a Patron!"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/patreon-button.png"></a></p></center>
</div>

<div class="social-bar">
    <table>
        <tbody><tr>
            <td><div class="social-box" style="padding-top: 8px;"><iframe id="twitter-widget-1" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" style="position: static; visibility: visible; width: 60px; height: 20px;" title="Twitter Tweet Button" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/tweet_button.7aeb03ce9f308997020e5998720fbbf7.en(1).html" data-url="http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask"></iframe></div></td>
            <td><div class="social-box" style="padding-left: 6px;"><div class="fb-like fb_iframe_widget" data-href="http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask" data-send="false" data-layout="button" data-width="450" data-show-faces="false" data-font="verdana" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;container_width=0&amp;font=verdana&amp;href=http%3A%2F%2Fblog.miguelgrinberg.com%2Fpost%2Fdesigning-a-restful-api-with-python-and-flask&amp;layout=button&amp;locale=en_US&amp;sdk=joey&amp;send=false&amp;show_faces=false&amp;width=450"><span style="vertical-align: bottom; width: 59px; height: 20px;"><iframe name="f1952b6331146ac" width="450px" height="1000px" title="fb:like Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/like(1).html" style="border: none; visibility: visible; width: 59px; height: 20px;" class=""></iframe></span></div></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><div id="___plusone_1" style="position: absolute; width: 450px; left: -10000px;"><iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position:absolute;top:-10000px;width:450px;margin:0px;border-style:none" tabindex="0" vspace="0" width="100%" id="I1_1582794352514" name="I1_1582794352514" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/fastbutton(2).html" data-gapiattached="true"></iframe><iframe ng-non-bindable="" frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position:absolute;top:-10000px;width:450px;margin:0px;border-style:none" tabindex="0" vspace="0" width="100%" id="I3_1582794364418" name="I3_1582794364418" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/fastbutton(3).html" data-gapiattached="true"></iframe></div><div class="g-plusone" data-size="medium" data-annotation="none" data-href="http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask" data-gapiscan="true" data-onload="true" data-gapistub="true"></div></div></td>
            <td><div class="social-box" style="padding-top: 8px;"><span class="IN-widget" data-lnkd-debug="&lt;script type=&quot;IN/Share+init&quot; data-url=&quot;http://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask&quot;&gt;&lt;/script&gt;" style="display: inline-block; line-height: 1; vertical-align: bottom; padding: 0px; margin: 0px; text-indent: 0px; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: bottom !important; font-size: 1px !important;"><button class="IN-2bc0215c-7188-4274-b598-1969e06d4d7c-1G9ISYhSF8XoOmdcl0yKDu"><xdoor-icon aria-hidden="true"><svg viewBox="0 0 24 24" width="24px" height="24px" x="0" y="0" preserveAspectRatio="xMinYMin meet">
      <g style="fill: currentColor">
        <rect x="-0.003" style="fill:none;" width="24" height="24"></rect>
        <path style="" d="M20,2h-16c-1.1,0-2,0.9-2,2v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2zM8,19h-3v-9h3V19zM6.5,8.8C5.5,8.8,4.7,8,4.7,7s0.8-1.8,1.8-1.8S8.3,6,8.3,7S7.5,8.8,6.5,8.8zM19,19h-3v-4c0-1.4-0.6-2-1.5-2c-1.1,0-1.5,0.8-1.5,2.2V19h-3v-9h2.9v1.1c0.5-0.7,1.4-1.3,2.6-1.3c2.3,0,3.5,1.1,3.5,3.7V19z"></path>
      </g>
    </svg></xdoor-icon>Share</button></span></span></div></td>
        </tr>
    </tbody></table>
</div>


<h4 style="text-align: right"><a name="comments"></a>239 comments</h4>



<div class="comment">
    <ul>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/d7611e9c5d1b0d11756e1745df041a90"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#1</span> <span class="label label-primary">Jason</span> said
                    <span class="" data-timestamp="2013-05-20T12:37:41Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Thanks for taking the time to share this. I'm going to go back and read the Mega tutorials before I give this a try. I'm new to Python and not familiar at all with Flask. I'm looking to build off of what I'm learning and this a a great way to do so. Thank again, this is awesome.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/4b9e888299f2bbb84b996583df056a8c.png"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#2</span> <span class="label label-primary">Michael Tiller</span> said
                    <span class="" data-timestamp="2013-05-20T16:38:11Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Overall, I think you've done a nice job putting together this material.  My one beef is that it perpetuates an unfortunately common pattern.  You constantly refer to an 'id' when it would be much better to simply use a URI.  The issue is that any client working with your API will have to know how to construct URLs for requests they want to make.  This is completely unnecessary and brittle.  I'm referring to the so-called "HATEOAS" approach here.  Using that discipline, your ids would be replaced by URIs and your POST methods would return status code 201 (CREATED) and provide the URI of the resource created in the "Location" header.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#3</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-05-20T18:09:36Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Michael: I don't fully agree with the self-discovery ideas of HATEOAS. The proposers of this make it sound like a client should be allowed to explore your web service and treat it like a user clicking through links in an HTML would. For an API that is not a good idea, in my opinion. APIs serve a specific purpose and should be documented accordingly. That said, your suggestions are valid ones, preventing the client from having to construct URIs is a good goal, so I'm updating the article to show how you would do that. Thanks!</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/7c82333fd2780751ea696899e486c0e1.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#4</span> <span class="label label-primary">vannen</span> said
                    <span class="" data-timestamp="2013-05-24T05:50:42Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Nice tutorial miguel! I use MethodView class from Flask to build my API, in my opinion it is more structured. 

http://flask.pocoo.org/docs/views/#method-based-dispatching</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/0065392a3891a2cb43aa894b951f2242"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#5</span> <span class="label label-primary">Evan</span> said
                    <span class="" data-timestamp="2013-05-28T19:17:57Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Thanks for another great tutorial. The mega-tutorial got me up and running with flask, and this one is nice as well.  I appreciate the time you put into sharing knowledge. </p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/62b7782b25ffaba0459bdba28f4ec3ae.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#6</span> <span class="label label-primary">Leandro Guerra</span> said
                    <span class="" data-timestamp="2013-05-29T02:36:55Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Nice tutorial miguel! Could you help me please? Im trying to use the POST method, which we will use to insert a new item in our task database, but I got bach this error: Bad Request The browser(or proxy) sent a request that this server could not understand. I dont know how to fix it.

Thank you a lot.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#7</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-05-29T04:05:41Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Leandro: You need to look at your server code and figure out why this POST route returns bad request. It's probably validating your request and finding it is invalid in some way.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/62b7782b25ffaba0459bdba28f4ec3ae.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#8</span> <span class="label label-primary">Leandro Guerra</span> said
                    <span class="" data-timestamp="2013-05-29T23:16:16Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Nice Miguel, tks again.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/fc2d76a688c76b480261f218b673dd28"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#9</span> <span class="label label-primary">Brent</span> said
                    <span class="" data-timestamp="2013-05-30T15:23:53Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Excellent article! Thanks Miguel</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/f376678465a74e6344b50e4f3242d3ac.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#10</span> <span class="label label-primary">JayKim</span> said
                    <span class="" data-timestamp="2013-05-30T15:38:21Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">I am developing REST api that require authorization. I am going to use flask-HTTPAuth with HTTPS. Do I request api call with ID and password for authorization? If I have to save ID and password, it is so dangerous. how can I do? </p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#11</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-05-30T16:17:44Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@JayKim: No, REST APIs do not have a "login" endpoint and REST servers do not save login credentials anywhere other than in the database. What you need to do is request clients of your API to send login credentials with every request, and on the server side those credentials need to be validated every time. If you don't want to send username and password every time, then add a "get_access_token" end point to your API that takes the login and responds with a cryptographic hash that has some expiration associated with it. Subsequent requests then send the username and the access token for authorization with every request.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/64a18f816a7ed542c9133db941737b1d"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#12</span> <span class="label label-primary">Anders</span> said
                    <span class="" data-timestamp="2013-06-01T17:22:35Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hi Miguel. Another excellent article! I've found a minor error in your code in method update_task. In the task[0]['done'] assignment the dict key needs to be 'done' and not 'title'. Also the problem in post #6 could be caused by running the code on windows. I had the same problem myself and when I shifted to Linux it worked. I could not figure out how to modify the json string in the curl command to get it to work on windows so I'm waiting for your excellent reply :) Please also do an api client blog post, at least I would be grateful for that and I don't think I'm the only one...</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#13</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-06-01T18:03:24Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Anders: Thanks, I corrected the code error. No matter how careful I try to be something always slips!
What version of curl are you using on Windows? I use the cygwin build and I run it from Cygwin's bash, so for me, even on Windows everything is very Unix-like. The bad request problem could be just a problem with escaping quotes and/or brackets on the Windows command prompt. Here is an example for the statement that sets a task to done, using the Windows command prompt (quotes inside quotes are escaped with three consecutive quotes):

curl -u miguel:python -i -H "Content-Type: application/json" -X PUT -d "{"""done""":false}" http://localhost:5000/todo/api/v1.0/tasks/2</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/64a18f816a7ed542c9133db941737b1d"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#14</span> <span class="label label-primary">Anders</span> said
                    <span class="" data-timestamp="2013-06-01T21:07:22Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">I'm using curl 7.30.0 in a standard dos window and yes the tripple quotes solved the issue.

I've started to write some client code using Kenneth Reitz's requests library and it's really simple to use (hint hint).</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/9cf9c691ab583156d4aa24c01150d816"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#15</span> <span class="label label-primary">Anu</span> said
                    <span class="" data-timestamp="2013-06-04T16:58:54Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Dear Miguel,

Your tutorials are always a great way to learn with. First, I wrote a microblog and a simple web api. I definitely look forward to any tutorial that you might post here. Great tutorials.!

Thanks so much,
Anu</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/cecd3c8108e81ec0fb6add8c479e07e2"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#16</span> <span class="label label-primary">Marek Zelinka</span> said
                    <span class="" data-timestamp="2013-07-04T14:49:05Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Hi Miguel. Another excellent article!
Just a tip: take a look at HTTPie, a CLI, cURL-like tool for humans. httpie.org </p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/7a068408cd6957c319df70396e61428c"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#17</span> <span class="label label-primary">Sree</span> said
                    <span class="" data-timestamp="2013-08-13T01:22:46Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Miguel,
Thank you for the nice article. I was wondering  if there was something specific that had to be done to enable the multi threads in the Rest service. The Flask-restful that I installed via pip doesnt seem to do that.
thoughts? 
Thank you
Sree</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#18</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-08-13T01:37:32Z" data-format="fromNow(0)" data-refresh="0">7 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Sree: Running multiple threads or processes is something that the web server is configured for. You just configure your apache, nginx, etc. to run as many as you need.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/8559f8f7ffd279712062de784ab0d648"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#19</span> <span class="label label-primary">Nitro XL</span> said
                    <span class="" data-timestamp="2013-09-02T05:23:36Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Thank you for sharing your thoughts. I really appreciate your efforts and I am waiting for 
your further write ups thanks once again.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/a28c2f4b28340337d8c2f478ab6150e0"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#20</span> <span class="label label-primary">Paul</span> said
                    <span class="" data-timestamp="2013-09-09T21:11:56Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Thank you very much.  The most well-written article I have ever read.  Pitched perfectly.  Nice job.
</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/e6839cec54aa5bd956e07977e8e557c8"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#21</span> <span class="label label-primary">Juan Pablo Rabino</span> said
                    <span class="" data-timestamp="2013-09-10T15:21:14Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Great Job! It is the best tutorial I found so far on this subject, really helpful. Thanks.
I found that when I try to install the git repository, the command on your post is:
$ flask/bin/pip install git+git://github.com/miguelgrinberg/flask-httpauth.git

But it returns that the Repository was not found.
I had to change it to:
flask/bin/pip install https://github.com/miguelgrinberg/Flask-HTTPAuth.git

And It worked! </p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#22</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-09-10T17:23:11Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Juan: Thanks. I actually forgot to update the article, Flask-HTTPAuth is now on PyPI, so you can install it simply with "pip install flask-httpauth".</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/e6839cec54aa5bd956e07977e8e557c8"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#23</span> <span class="label label-primary">Juan Pablo Rabino</span> said
                    <span class="" data-timestamp="2013-09-11T20:08:26Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Miguel, I was trying to mix this RestFul api with your deployment tutorial  (http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xvii-deployment-on-linux-even-on-the-raspberry-pi). 
Instead of CentOS I wanted to use Ubuntu, but the Apache and FastCGI it's pretty much the same.
I have everything working, except that for some reason I can't get the ScriptAlias to do what it is supposed to do. 
This is the httpd.conf:
AddHandler fcgid-script .fcgi
&lt;VirtualHost *:80&gt;
#       DocumentRoot /home/apps/tasks/app/static
#       Alias /static /home/apps/tasks/app/static
        ScriptAlias / /home/apps/tasks/restfulapp.fcgi/
&lt;/VirtualHost&gt;

But as soon as I try to connect it gives me a 404 error, and the apache error log shows:
[Wed Sep 11 16:45:58 2013] [error] [client 192.168.0.17] File does not exist: /home/apps/tasks/restfulapp.fcgi/

I also tried to remove the final '/' ScriptAlias part. But it didn't work either, I received the content of restfulapp.fcgi as a response.
BTW, here it is:
#!/flask/bin/python
from flup.server.fcgi import WSGIServer
from app import app

if __name__=='__main__':
    WSGIServer(app).run()

I really don't know what is going on, all the relevant modules in apache are running but still cannot get this to work. If you have any pointers I would really appreciate it. 
Thanks again for the hard and great job putting this tutorial together.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/729e26a2a2c7ff24a71958d4aa4e5f35.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#24</span> <span class="label label-danger">Miguel Grinberg</span> said
                    <span class="" data-timestamp="2013-09-12T04:13:52Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">@Juan Pablo: apache seems to think the .fcgi file isn't there. Are you positive you have it in that location? Are the permissions set correctly? Try running the .fcgi file in your console, maybe you will get a more descriptive error.</p>
                </div>
            </div>
        </li>
        
        <li>
            <div class="comment-thumbnail"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/52d25ac4873dce2033caf6c30010ec08.jpeg"></div>
            <div class="comment-body">
                <p>
                    <span class="label label-default">#25</span> <span class="label label-primary">shanks</span> said
                    <span class="" data-timestamp="2013-09-23T08:04:28Z" data-format="fromNow(0)" data-refresh="0">6 years ago</span>
                </p>
                <div style="overflow: auto;">
                    <p style="white-space: pre-wrap;">Good article for new beginners like me! Thanks a lot</p>
                </div>
            </div>
        </li>
        
    </ul>
</div>

<div class="page">
<ul class="pager">
  <li class="previous disabled">
    <a href="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask#">««</a>
  </li>
  <li class="previous disabled">
    <a href="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask#">«</a>
  </li>
  <li class="next">
    <a href="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask/page/0#comments">»»</a>
  </li>
  <li class="next">
    <a href="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask/page/2#comments">»</a>
  </li>
</ul>
</div>

<h3><a name="commentform"></a>Leave a Comment</h3>






<form action="https://blog.miguelgrinberg.com/post/designing-a-restful-api-with-python-and-flask#commentform" method="post" class="form" role="form">
  <input id="url" name="url" type="hidden" value="">
<input id="csrf_token" name="csrf_token" type="hidden" value="IjM0NWYzMjk5NzJkZTQzOTllMTQzZjMzYmM1NWExNmI0ZjBkMDcxNGEi.ETkX7g.SV-tuZXf1-4AkoZWCMEYY18jT_4">
  
    






<div class="form-group  required"><label class="control-label" for="name">Name</label>
        
          <input class="form-control" id="name" name="name" required="" type="text" value="">
        
  </div>


    
    






<div class="form-group  required"><label class="control-label" for="email">Email</label>
        
          <input class="form-control" id="email" name="email" required="" type="text" value="">
        
  </div>


    






<div class="form-group  required"><label class="control-label" for="comment">Comment</label>
        
          <textarea class="form-control" id="comment" name="comment" required=""></textarea>
        
  </div>


    




<div class="form-group "><label class="control-label" for="captcha">Captcha</label>
        
          
<script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/api.js" async="" defer=""></script>
<div class="g-recaptcha" data-sitekey="6Ld5Zs4SAAAAAOY0DOi4r18bgHlEaz41qAoRf__S"><div style="width: 304px; height: 78px;"><div><iframe src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/anchor.html" width="304" height="78" role="presentation" name="a-xp3mo4tfr96j" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/saved_resource(1).html"></iframe></div>

        
  </div>


    





  

  
  


    <input class="btn btn-default" id="submit" name="submit" type="submit" value="Submit">
  




    

</form>


</div>

                </div>
            </div>
            <div class="col-md-4 sidebar-bg">
                <div id="sidebar">
                    

                    
                    
                    
                    <h1>The New Flask Mega-Tutorial</h1>
                    
                    
                    <p>My <a href="https://www.kickstarter.com/projects/1124925856/the-new-and-improved-flask-mega-tutorial">Kickstarter</a> project was a big success! Thank you to everyone who contributed to it!</p>
                    <p>If you would you like to support my work on this tutorial and on this blog and as a reward have access to the complete tutorial nicely structured as an ebook and a set of videos, you can now order it from my <a href="https://courses.miguelgrinberg.com/p/flask-mega-tutorial">Courses</a> site.</p>
                    <center><p><a href="https://courses.miguelgrinberg.com/p/flask-mega-tutorial"><img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/mega-tutorial-small.png"></a></p></center>
                    

                    

                    <h1>About Miguel</h1>
                    <img style="float: right; margin: 0px 8px 8px 0px; padding: 4px; border: 1px solid #ccc;" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/miguel.jpg">
                    <p>Welcome to my blog!</p>
                    <p>I'm a software engineer, photographer and filmmaker, currently living in Drogheda, Ireland.</p>
                    
                    <p>You can also find me on <a href="https://www.facebook.com/miguelgrinbergblog">Facebook</a>, <a href="https://plus.google.com/u/0/117786742456929977820">Google+</a>, <a href="http://www.linkedin.com/in/miguelgrinberg">LinkedIn</a>, <a href="https://github.com/miguelgrinberg">Github</a> and <a href="https://twitter.com/miguelgrinberg">Twitter</a>.</p>
                    <p>Thank you for visiting!</p>

                    
                    <h1>Categories</h1>
<ul>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/AWS/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="AWS RSS Feed" label="AWS RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/AWS">AWS</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Arduino/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Arduino RSS Feed" label="Arduino RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Arduino">Arduino</a></span> (7)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Authentication/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Authentication RSS Feed" label="Authentication RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Authentication">Authentication</a></span> (6)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Blog/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Blog RSS Feed" label="Blog RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Blog">Blog</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/C++/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="C++ RSS Feed" label="C++ RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/C++">C++</a></span> (5)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Cloud/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Cloud RSS Feed" label="Cloud RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Cloud">Cloud</a></span> (8)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Database/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Database RSS Feed" label="Database RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Database">Database</a></span> (13)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Docker/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Docker RSS Feed" label="Docker RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Docker">Docker</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Filmmaking/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Filmmaking RSS Feed" label="Filmmaking RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Filmmaking">Filmmaking</a></span> (6)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Flask/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Flask RSS Feed" label="Flask RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Flask">Flask</a></span> (82)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Games/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Games RSS Feed" label="Games RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Games">Games</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/HTML5/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="HTML5 RSS Feed" label="HTML5 RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/HTML5">HTML5</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Heroku/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Heroku RSS Feed" label="Heroku RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Heroku">Heroku</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/IoT/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="IoT RSS Feed" label="IoT RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/IoT">IoT</a></span> (8)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/JavaScript/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="JavaScript RSS Feed" label="JavaScript RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/JavaScript">JavaScript</a></span> (9)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/MicroPython/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="MicroPython RSS Feed" label="MicroPython RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/MicroPython">MicroPython</a></span> (8)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Microservices/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Microservices RSS Feed" label="Microservices RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Microservices">Microservices</a></span> (2)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Movie%20Reviews/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Movie Reviews RSS Feed" label="Movie Reviews RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Movie%20Reviews">Movie Reviews</a></span> (5)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Node.js/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Node.js RSS Feed" label="Node.js RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Node.js">Node.js</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/OpenStack/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="OpenStack RSS Feed" label="OpenStack RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/OpenStack">OpenStack</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Personal/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Personal RSS Feed" label="Personal RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Personal">Personal</a></span> (3)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Photography/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Photography RSS Feed" label="Photography RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Photography">Photography</a></span> (7)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Product%20Reviews/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Product Reviews RSS Feed" label="Product Reviews RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Product%20Reviews">Product Reviews</a></span> (2)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Programming/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Programming RSS Feed" label="Programming RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Programming">Programming</a></span> (112)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Project%20Management/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Project Management RSS Feed" label="Project Management RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Project%20Management">Project Management</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Python/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Python RSS Feed" label="Python RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Python">Python</a></span> (108)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/REST/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="REST RSS Feed" label="REST RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/REST">REST</a></span> (6)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Rackspace/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Rackspace RSS Feed" label="Rackspace RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Rackspace">Rackspace</a></span> (1)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Raspberry%20Pi/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Raspberry Pi RSS Feed" label="Raspberry Pi RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Raspberry%20Pi">Raspberry Pi</a></span> (7)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Robotics/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Robotics RSS Feed" label="Robotics RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Robotics">Robotics</a></span> (6)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Security/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Security RSS Feed" label="Security RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Security">Security</a></span> (10)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Video/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Video RSS Feed" label="Video RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Video">Video</a></span> (5)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Webcast/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Webcast RSS Feed" label="Webcast RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Webcast">Webcast</a></span> (3)
	</li>

	<li>
		<a href="https://blog.miguelgrinberg.com/category/Windows/feed">
			<img src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/rss-small.png" title="Windows RSS Feed" label="Windows RSS Feed">
		</a>
		<span class="label label-primary"><a href="https://blog.miguelgrinberg.com/category/Windows">Windows</a></span> (1)
	</li>

</ul>
                    
                </div>
            </div>
        </div>
        <div id="footer">
            
            <p>© 2012-<script type="text/javascript">document.write(new Date().getFullYear());</script>2020 by Miguel Grinberg. All rights reserved. <a href="mailto:webmaster%20_at_%20miguelgrinberg%20_dot_%20com">Questions?</a></p>
        </div>
    </div>


    
    
    <script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/jquery.min.js"></script>
    <script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/bootstrap.min.js"></script>
	<script type="text/javascript" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/prettify.js"></script>
    <script src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/moment-with-langs.min.js"></script>
<script>
function flask_moment_render(elem) {
    $(elem).text(eval('moment("' + $(elem).data('timestamp') + '").' + $(elem).data('format') + ';'));
    $(elem).removeClass('flask-moment');
}
function flask_moment_render_all() {
    $('.flask-moment').each(function() {
        flask_moment_render(this);
        if ($(this).data('refresh')) {
            (function(elem, interval) { setInterval(function() { flask_moment_render(elem) }, interval); })(this, $(this).data('refresh'));
        }
    })
}
$(document).ready(function() {
    flask_moment_render_all();
});
</script>
    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-4777284-15']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
    <script type="text/javascript">
        $(document).ready(function(){
            $(".gallery").colorbox({rel:".gallery",maxWidth:"95%",maxHeight:"95%",scalePhotos:true});
            // add prettyprint class to all <pre><code></code></pre> blocks
            var prettify = false;
            $("pre code").parent().each(function() {
                $(this).addClass('prettyprint');
                prettify = true;
            });
            prettyPrint();
        });
    </script>


  

<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button type="button" id="cboxNext"></button><button id="cboxSlideshow"></button><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none; max-width: none;"></div></div><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/widget_iframe.7aeb03ce9f308997020e5998720fbbf7.html" title="Twitter settings iframe" style="display: none;"></iframe><iframe name="oauth2relay1498002562" id="oauth2relay1498002562" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/postmessageRelay.html" tabindex="-1" aria-hidden="true" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/saved_resource(2).html"></iframe><div style="background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px; position: absolute; transition: visibility 0s linear 0.3s, opacity 0.3s linear 0s; opacity: 0; visibility: hidden; z-index: 2000000000; left: 0px; top: -10000px;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.05;"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="./Designing a RESTful API with Python and Flask - miguelgrinberg.com_files/bframe.html" name="c-xp3mo4tfr96j" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" style="width: 100%; height: 100%;"></iframe></div></div></body>	<xpather id="xpather">		<form id="xpather-form">			<input id="xpather-xpath" type="text" placeholder="enter XPath…" autocomplete="off" spellcheck="false">		</form> 		<xpather id="xpather-result"></xpather>		<xpather id="xpather-sidebar-toggler"></xpather>	</xpather>	<xpather id="xpather-sidebar">		<xpather id="xpather-sidebar-spacer"></xpather>		<xpather id="xpather-sidebar-entries"></xpather>	</xpather></html>